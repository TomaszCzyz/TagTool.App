<Window
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:TagTool.App.ViewModels"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:userControls="clr-namespace:TagTool.App.Views.UserControls"
    mc:Ignorable="d" d:DesignWidth="1600" d:DesignHeight="900"
    x:Class="TagTool.App.Views.MainWindow"
    x:Name="RootWindow"
    Icon="/Assets/avalonia-logo.ico"
    Title="TagTool.App"
    ExtendClientAreaChromeHints="Default"
    ExtendClientAreaToDecorationsHint="True"
    ExtendClientAreaTitleBarHeightHint="-1">
    <Window.KeyBindings>
        <KeyBinding Gesture="Escape" Command="{Binding ResetFocusCommand}" CommandParameter="{Binding #RootWindow}" />
        <KeyBinding Gesture="Ctrl+Q" Command="{Binding FocusNextSearchTabCommand}" CommandParameter="{Binding #RootWindow}" />
    </Window.KeyBindings>

    <Design.DataContext>
        <vm:MainWindowViewModel />
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*">
        <userControls:MenuView
            PointerPressed="InputElement_OnPointerPressed"
            PointerReleased="InputElement_OnPointerReleased"
            PointerMoved="InputElement_OnPointerMoved" />

        <Grid Grid.Row="1" ColumnDefinitions="Auto,*">
            <!-- side panel -->
            <Grid Grid.Column="0" Width="36">
                <!-- from top -->
                <StackPanel Orientation="Vertical">
                    <StackPanel.Styles>
                        <Style Selector="RadioButton">
                            <Setter Property="Template">
                                <ControlTemplate>
                                    <ToggleButton
                                        DataContext="{Binding $parent}"
                                        Background="Transparent"
                                        Padding="3"
                                        Content="{Binding Content, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}"
                                        IsChecked="{Binding IsChecked, RelativeSource={RelativeSource TemplatedParent}, Mode=TwoWay}" />

                                </ControlTemplate>
                            </Setter>
                        </Style>
                    </StackPanel.Styles>
                    <RadioButton Name="RadioButton1" ToolTip.Tip="Quick access to common tags" ToolTip.Placement="Right">
                        <Svg Path="/Assets/Svgs/Light/tags.svg" />
                    </RadioButton>
                    <RadioButton Name="RadioButton2"  ToolTip.Tip="Ble ble" ToolTip.Placement="Right">
                        <Svg Path="/Assets/Svgs/Light/tags.svg" />
                    </RadioButton>
                    <RadioButton Name="RadioButton3"  ToolTip.Tip="Another tool view" ToolTip.Placement="Right">
                        <Svg Path="/Assets/Svgs/Light/tags.svg" />
                    </RadioButton>
                </StackPanel>

                <!-- from bottom -->
                <StackPanel VerticalAlignment="Bottom">
                    <Svg Path="/Assets/Svgs/Light/sun.svg" />
                    <Svg Path="/Assets/Svgs/Light/moon.svg" />
                </StackPanel>

            </Grid>

            <SplitView
                Grid.Column="1"
                DisplayMode="Inline"
                OpenPaneLength="296">
                <SplitView.IsPaneOpen>
                    <MultiBinding Converter="{x:Static BoolConverters.Or}">
                        <Binding Source="{ResolveByName RadioButton1}" Path="IsChecked"/>
                        <Binding Source="{ResolveByName RadioButton2}" Path="IsChecked"/>
                        <Binding Source="{ResolveByName RadioButton3}" Path="IsChecked"/>
                    </MultiBinding>
                </SplitView.IsPaneOpen>
                <SplitView.Pane>
                    <TextBlock
                        Text="Pane"
                        FontSize="24"
                        VerticalAlignment="Center"
                        HorizontalAlignment="Center" />

                </SplitView.Pane>
                <userControls:MainPanel />
            </SplitView>
        </Grid>


    </Grid>
</Window>
