<Window
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:dialogs="clr-namespace:TagTool.App.ViewModels.Dialogs"
    xmlns:avalonia="clr-namespace:Material.Icons.Avalonia;assembly=Material.Icons.Avalonia"
    mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
    x:Class="TagTool.App.Views.Dialogs.AdvancedTaggingDialog"
    Title="AdvancedTaggingDialog"
    WindowStartupLocation="CenterOwner"
    ExtendClientAreaChromeHints="NoChrome"
    ExtendClientAreaToDecorationsHint="True"
    ExtendClientAreaTitleBarHeightHint="-1"
    ShowInTaskbar="True"
    SizeToContent="WidthAndHeight"
    TransparencyLevelHint="AcrylicBlur"
    Background="{x:Null}">

    <Window.Styles>
        <Style Selector="Border.Outline">
            <Setter Property="CornerRadius" Value="4" />
            <Setter Property="BorderBrush" Value="Gray" />
            <Setter Property="BorderThickness" Value="1" />
        </Style>
    </Window.Styles>

    <Design.DataContext>
        <dialogs:AdvancedTaggingDialogViewModel />
    </Design.DataContext>

    <Grid ColumnDefinitions="Auto,*, Auto" Margin="20">

        <!-- tree view column -->
        <Border Classes="Outline">

            <Grid RowDefinitions="Auto,*">
                <StackPanel Grid.Row="0" Orientation="Horizontal">
                    <Button
                        Padding="2"
                        Margin="2 2 0 0"
                        CornerRadius="4"
                        Command="{Binding AddItemCommand}">

                        <avalonia:MaterialIcon
                            Kind="Add"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center" />
                        
                    </Button>
                    <Button
                        Padding="2"
                        Margin="2 2 0 0"
                        CornerRadius="4"
                        Command="{Binding RemoveItemCommand}"
                        IsEnabled="{Binding SelectedItems.Count}">

                        <avalonia:MaterialIcon
                            Kind="Minus"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center" />

                    </Button>
                </StackPanel>
                <TreeView
                    Grid.Row="1"
                    Items="{Binding Items}"
                    SelectedItems="{Binding SelectedItems}"
                    SelectionMode="Multiple">
                    <TreeView.ItemTemplate>
                        <TreeDataTemplate ItemsSource="{Binding Children}">
                            <TextBlock Text="{Binding Header}" />
                        </TreeDataTemplate>
                    </TreeView.ItemTemplate>
                </TreeView>
            </Grid>
        </Border>

    </Grid>

</Window>
